<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Escape - Immersive Adventure</title>
    
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&family=Roboto+Mono:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>
    <div id="background-container"></div>
    <div class="mockup-container">
        <!-- Game Page -->
        <div id="immersive" class="mockup active">
            <div class="mockup-header"><h2>Immersive Adventure</h2></div>
            <div class="mockup-content">
                <div class="game-screen immersive-screen">
                    <div class="immersive-main">
                        <div class="immersive-text-box">
                            <h3>The Cold Embrace of Starlight</h3>
                            <p>A frigid, metallic tang invades your senses as your vision flickers into reluctant focus. You're confined within a damaged cryo-pod, its low hum now punctuated by the urgent, crimson flash of a warning light. A synthetic voice, eerily calm, intones: "System integrity compromised. Emergency protocols initiated." The air, thick with ozone and the chill of deep space, clings to your skin. Before you, a reinforced hatch, your only exit, remains stubbornly dark and unresponsive.</p>
                            <div class="immersive-options">
                                <div class="immersive-option" data-action="updateObjective" data-value="Find a way to power the door.">1. Check the cryo-pod's diagnostic screen.</div>
                                <div class="immersive-option" data-action="addItem" data-value="ID-Card">2. Try to override the door controls.</div>
                                <div class="immersive-option" data-action="removeItem" data-value="Rusty Key">3. Search the nearby storage locker.</div>
                                <div class="immersive-option">4. Wait for help.</div>
                            </div>
                        </div>
                    </div>
                    <div class="immersive-sidebar">
                        <h3>GAME STATUS</h3>
                        <p class="game-timer">TIME: </p>
                        <p class="current-location-subtext">Current Location: </p>
                        <div class="status-box">
                            <h4>OBJECTIVE</h4>
                            <p id="objective-text"></p>
                        </div>
                        <div class="status-box">
                            <h4>INVENTORY</h4>
                            <ul id="inventory-list"></ul>
                        </div>
                        <div id="hint-box" class="status-box">
                            <h4>HINT <span id="hint-budget"></span></h4>
                            <p id="hint-text">Click for a hint</p>
                            <div id="hint-cooldown"></div>
                        </div>
                        <div class="retro-actions">
                            <button data-action="showPage" data-value="settings">SETTINGS</button>
                            <button data-action="saveGame">SAVE</button>
                            <button data-action="showPage" data-value="start">QUIT</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>


    </div>

        <!-- Settings Page -->
        <div id="settings" class="mockup">
            <div class="mockup-header"><h2 data-i18n="settings_title">Settings</h2></div>
            <div class="mockup-content">
                <div class="game-screen start-screen"> <!-- Using start-screen for background -->
                    <div class="start-content"> <!-- Using start-content for the box styling -->
                        <div class="settings-section">
                            <label for="music-toggle" data-i18n="music">Music</label>
                            <button id="music-toggle" class="toggle-btn active" data-i18n="on">ON</button>
                        </div>
                        <div class="settings-section">
                            <label for="sfx-toggle" data-i18n="sfx">Sound Effects</label>
                            <button id="sfx-toggle" class="toggle-btn active" data-i18n="on">ON</button>
                        </div>
                        <div class="settings-section">
                            <label for="volume-slider" data-i18n="volume">Volume</label>
                            <input type="range" id="volume-slider" min="0" max="100" value="80">
                        </div>
                        <div class="settings-section">
                            <label for="language-select" data-i18n="language">Language</label>
                            <select id="language-select" onchange="loadTranslations(this.value)">
                                <option value="en">English</option>
                                <option value="no">Norsk</option>
                                <option value="es">Español</option>
                                <option value="fr">Français</option>
                            </select>
                        </div>
                        <div class="design-actions">
                            <button class="action-btn primary" data-i18n="close" onclick="closeSettings()">CLOSE</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Win Page -->
        <div id="win" class="mockup">
            <div class="mockup-header"><h2>You Won!</h2></div>
            <div class="mockup-content">
                <div class="game-screen start-screen">
                    <div class="start-content">
                        <h1 data-i18n="congratulations">Congratulations!</h1>
                        <p data-i18n="win_message">You have successfully escaped!</p>
                        <div class="start-menu">
                            <button id="play-again-btn" data-i18n="play_again">PLAY AGAIN</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    <audio id="background-music" loop preload="auto" src="{{ url_for('static', filename='audio/411867__ispeakwaves__mystery.mp3') }}"></audio>
    <audio id="button-click-sound" preload="auto" src="{{ url_for('static', filename='audio/342200__christopherderp__videogame-menu-button-click.wav') }}"></audio>

    <script src="https://cdn.jsdelivr.net/npm/howler@2.2.3/dist/howler.min.js"></script>
    <script src="{{ url_for('static', filename='js/script.js') }}" defer></script>
</body>
</html>